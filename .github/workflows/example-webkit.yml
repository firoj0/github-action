name: example-webkit
#
# webkit support is currently experimental
# https://docs.cypress.io/guides/guides/launching-browsers#WebKit-Experimental
#
on:
  workflow_dispatch:

jobs:
  webkit-ubuntu:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Install dependencies
        uses: ./
        with:
          working-directory: examples/webkit
          runTests: false
          build: npm ls
      - name: Install playwright dependencies
        run: npx playwright install-deps webkit
      - name: Cypress info and test
        uses: ./
        with:
          install: false
          build: npm run info
          working-directory: examples/webkit
          browser: webkit

  webkit-windows:
    runs-on: windows-2022
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Cypress info and test
        uses: ./
        with:
          build: npm run info
          working-directory: examples/webkit
          browser: webkit

  webkit-macos:
    runs-on: macos-14
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Cypress info and test
        uses: ./
        with:
          build: npm run info
          working-directory: examples/webkit
          browser: webkit
